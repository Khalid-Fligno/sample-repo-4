(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"3PjV":function(t,e,i){"use strict";i.r(e),i.d(e,"RecipesModule",function(){return lt});var n=i("ofXK"),o=i("tyNb"),c=i("mrSG"),a=i("M9IT"),r=i("+0xr"),s=i("0IaG"),l=i("fXoL"),b=i("MutI"),m=i("bTqV");function u(t,e){if(1&t&&(l.Vb(0,"mat-list-item",10),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Dc("\u2022 ",t,"")}}function d(t,e){if(1&t&&(l.Vb(0,"mat-list-item",10),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Ec("\u2022 ",t.name," - ",t.value,"")}}function p(t,e){if(1&t&&(l.Vb(0,"mat-list-item",11),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Dc("\u2022 ",t,"")}}function h(t,e){if(1&t&&(l.Vb(0,"mat-list-item",10),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Dc("\u2022 ",t,"")}}function g(t,e){if(1&t&&(l.Vb(0,"mat-list-item",10),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Dc("\u2022 ",t,"")}}function f(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"h4"),l.Bc(2),l.Ub(),l.Vb(3,"div",12),l.Vb(4,"div"),l.Qb(5,"img",13),l.Ub(),l.Vb(6,"div",14),l.Vb(7,"p",15),l.Bc(8),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){const t=e.$implicit,i=e.index;l.Db(2),l.Dc("Step ",i+1,""),l.Db(3),l.lc("src",t.image,l.vc),l.Db(3),l.Cc(t.description)}}let U=(()=>{class t{constructor(t){this.data=t}ngOnInit(){console.log(this.data)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(s.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-view"]],decls:44,vars:12,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"coverImage",3,"src"],[1,"heading"],["role","list"],["role","listitem","style","text-transform: capitalize;",4,"ngFor","ngForOf"],["role","listitem",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["role","listitem",2,"text-transform","capitalize"],["role","listitem"],[1,"stepContainer"],[1,"stepImage",3,"src"],[1,"stepTitleContainer"],[2,"align-self","center"]],template:function(t,e){1&t&&(l.Vb(0,"h2",0),l.Bc(1),l.Ub(),l.Vb(2,"h3"),l.Bc(3),l.Ub(),l.Vb(4,"mat-dialog-content",1),l.Qb(5,"img",2),l.Vb(6,"h3",3),l.Bc(7,"Ingredients :"),l.Ub(),l.Vb(8,"mat-list",4),l.Ac(9,u,2,1,"mat-list-item",5),l.Ub(),l.Vb(10,"h3",3),l.Bc(11,"Time(min) :"),l.Ub(),l.Vb(12,"p"),l.Bc(13),l.Ub(),l.Vb(14,"h3",3),l.Bc(15,"Nutritions :"),l.Ub(),l.Vb(16,"mat-list",4),l.Ac(17,d,2,2,"mat-list-item",5),l.Ub(),l.Vb(18,"h3",3),l.Bc(19,"Portions :"),l.Ub(),l.Vb(20,"p"),l.Bc(21),l.Ub(),l.Vb(22,"h3",3),l.Bc(23,"Tags :"),l.Ub(),l.Vb(24,"mat-list",4),l.Ac(25,p,2,1,"mat-list-item",6),l.Ub(),l.Vb(26,"h3",3),l.Bc(27,"Types :"),l.Ub(),l.Vb(28,"mat-list",4),l.Ac(29,h,2,1,"mat-list-item",5),l.Ub(),l.Vb(30,"h3",3),l.Bc(31,"Utensils :"),l.Ub(),l.Vb(32,"mat-list",4),l.Ac(33,g,2,1,"mat-list-item",5),l.Ub(),l.Vb(34,"h3",3),l.Bc(35,"Steps :"),l.Ub(),l.Ac(36,f,9,3,"div",7),l.Vb(37,"h3",3),l.Bc(38,"Summary :"),l.Ub(),l.Vb(39,"p"),l.Bc(40),l.Ub(),l.Ub(),l.Vb(41,"mat-dialog-actions",8),l.Vb(42,"button",9),l.Bc(43,"Cancel"),l.Ub(),l.Ub()),2&t&&(l.Db(1),l.Cc(e.data.title),l.Db(2),l.Cc(e.data.subTitle),l.Db(2),l.lc("src",e.data.coverImage,l.vc),l.Db(4),l.lc("ngForOf",e.data.ingredients),l.Db(4),l.Cc(e.data.time),l.Db(4),l.lc("ngForOf",e.data.nutritions),l.Db(4),l.Cc(e.data.portions),l.Db(4),l.lc("ngForOf",e.data.tags),l.Db(4),l.lc("ngForOf",e.data.types),l.Db(4),l.lc("ngForOf",e.data.utensils),l.Db(3),l.lc("ngForOf",e.data.steps),l.Db(4),l.Cc(e.data.summary))},directives:[s.h,s.e,b.a,n.j,s.c,m.a,s.d,b.b],styles:[".mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{display:block;-webkit-tap-highlight-color:transparent;width:100%;padding-bottom:.5rem;height:auto;font-size:.9rem}.mg0[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}.stepContainer[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding-left:16px}.stepContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}.stepTitleContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}.coverImage[_ngcontent-%COMP%]{height:10rem;width:10rem}.coverImage[_ngcontent-%COMP%], .stepImage[_ngcontent-%COMP%]{background:#c5c0c0;border-radius:5px}.stepImage[_ngcontent-%COMP%]{height:5rem;width:5rem}"]}),t})();var V=i("FtGj"),v=i("3Pt+"),C=i("cyHM"),y=i("7Cbv"),D=i("Vaw3"),O=i("jhN1"),w=i("F11b"),B=i("JqCM"),I=i("kmnG"),F=i("qFsG"),P=i("d3UM"),S=i("A5z7"),A=i("NFeN"),N=i("FKr1");function T(t,e){if(1&t&&l.Qb(0,"img",29),2&t){const t=l.gc();l.lc("src",t.sanitizedImagePath(t.f.coverImage.value),l.vc)}}function x(t,e){if(1&t&&(l.Vb(0,"mat-option",30),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.lc("value",t),l.Db(1),l.Cc(t.toUpperCase())}}function R(t,e){1&t&&(l.Vb(0,"mat-icon",33),l.Bc(1,"cancel"),l.Ub())}function _(t,e){if(1&t){const t=l.Wb();l.Vb(0,"mat-chip",31),l.cc("removed",function(){l.tc(t);const i=e.$implicit;return l.gc().removeTag(i)}),l.Bc(1),l.Ac(2,R,2,0,"mat-icon",32),l.Ub()}if(2&t){const t=e.$implicit,i=l.gc();l.lc("selectable",i.selectable)("removable",i.removable),l.Db(1),l.Dc(" ",t," "),l.Db(1),l.lc("ngIf",i.removable)}}function k(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",34),l.Vb(1,"span"),l.Vb(2,"mat-form-field",5),l.Qb(3,"input",35),l.Ub(),l.Vb(4,"button",19),l.cc("click",function(){l.tc(t);const i=e.index;return l.gc().removeIngredient(i)}),l.Vb(5,"mat-icon"),l.Bc(6,"remove_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.index;l.Db(3),l.lc("formControlName",t)}}function M(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",36),l.Vb(2,"mat-form-field",37),l.Vb(3,"mat-label"),l.Bc(4,"Name"),l.Ub(),l.Qb(5,"input",38),l.Ub(),l.Vb(6,"mat-form-field",37),l.Vb(7,"mat-label"),l.Bc(8,"Value"),l.Ub(),l.Qb(9,"input",39),l.Ub(),l.Vb(10,"button",19),l.cc("click",function(){l.tc(t);const i=e.index;return l.gc().removeNutrition(i)}),l.Vb(11,"mat-icon"),l.Bc(12,"remove_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.index;l.Db(1),l.lc("formGroupName",t)}}function j(t,e){if(1&t&&l.Qb(0,"img",29),2&t){const t=l.gc().index,e=l.gc();l.lc("src",e.sanitizedImagePath(e.steps.value[t].image),l.vc)}}function Q(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",40),l.Vb(2,"span"),l.Bc(3),l.Vb(4,"button",19),l.cc("click",function(){l.tc(t);const i=e.index;return l.gc().removeStep(i)}),l.Vb(5,"mat-icon"),l.Bc(6,"remove_circle"),l.Ub(),l.Ub(),l.Ub(),l.Vb(7,"div",2),l.Ac(8,j,1,1,"img",3),l.Vb(9,"div"),l.Vb(10,"input",4),l.cc("change",function(i){l.tc(t);const n=e.index;return l.gc().onFileChange2(i,n)}),l.Ub(),l.Ub(),l.Ub(),l.Vb(11,"mat-form-field",5),l.Vb(12,"mat-label"),l.Bc(13,"Description"),l.Ub(),l.Qb(14,"input",41),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.index,i=l.gc();l.Db(1),l.lc("formGroupName",t),l.Db(2),l.Dc("Step ",t+1," "),l.Db(5),l.lc("ngIf",i.steps.value[t].image)}}function $(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div"),l.Vb(1,"span"),l.Vb(2,"mat-form-field",5),l.Qb(3,"input",35),l.Ub(),l.Vb(4,"button",19),l.cc("click",function(){l.tc(t);const i=e.index;return l.gc().removeUtensil(i)}),l.Vb(5,"mat-icon"),l.Bc(6,"remove_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.index;l.Db(3),l.lc("formControlName",t)}}let L=(()=>{class t{constructor(t,e,i,n,o,c,a,r){this.fb=t,this.afStorage=e,this.sanitizer=i,this.http=n,this.spinner=o,this.dialog=c,this.data=a,this.dialogRef=r,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[V.g,V.c],this.mealTypeList=["breakfast","lunch","dinner","snack"];const s=this.data;this.Form=this.fb.group({id:s&&s.id?s.id:Object(y.a)(),title:[s&&s.title?s.title:"",v.u.required],coverImage:[s&&s.coverImage?s.coverImage:"",v.u.required],subTitle:s&&s.subTitle?s.subTitle:"",portions:s&&s.portions?s.portions:"",time:s&&s.time?s.time:"",summary:s&&s.summary?s.summary:"",types:[s&&s.types?s.types:"",v.u.required],tags:[s&&s.tags?s.tags:[],v.u.required],ingredients:this.fb.array(s&&s.ingredients?s.ingredients.map(t=>t):[]),steps:this.fb.array(s&&s.steps?s.steps.map(t=>this.newStep(t)):[]),nutritions:this.fb.array(s&&s.nutritions?s.nutritions.map(t=>this.newNutrition(t)):[]),utensils:this.fb.array(s&&s.utensils?s.utensils.map(t=>t):[])})}ngOnInit(){console.log(this.data),console.log(this.Form.value)}get f(){return this.Form.controls}get steps(){return this.Form.get("steps")}newStep(t=null){return this.fb.group({image:t?t.image:null,description:t?t.description:null})}addStep(){this.steps.push(this.newStep())}removeStep(t){this.steps.removeAt(t)}get nutritions(){return this.Form.get("nutritions")}newNutrition(t=null){return this.fb.group({name:t?t.name:null,value:t?t.value:null})}addNutrition(){this.nutritions.push(this.newNutrition())}removeNutrition(t){this.nutritions.removeAt(t)}get ingredients(){return this.Form.get("ingredients")}addIngredients(){this.ingredients.push(this.fb.control(""))}removeIngredient(t){this.ingredients.removeAt(t)}get tags(){return this.Form.get("tags")}get utensils(){return this.Form.get("utensils")}removeUtensil(t){this.utensils.removeAt(t)}addUtensils(){this.utensils.push(this.fb.control(""))}sanitizedImagePath(t){if("object"==typeof t){let e=URL.createObjectURL(t);return this.sanitizer.bypassSecurityTrustUrl(e)}return t}onFileChange(t){return Object(c.a)(this,void 0,void 0,function*(){const e=new FileReader;if(t.target.files&&t.target.files.length){const[i]=t.target.files;e.readAsDataURL(i),e.onload=()=>Object(c.a)(this,void 0,void 0,function*(){const t=yield fetch(e.result);yield t.blob().then(t=>{this.Form.patchValue({coverImage:t})})})}})}onFileChange2(t,e){return Object(c.a)(this,void 0,void 0,function*(){const i=new FileReader;if(t.target.files&&t.target.files.length){const[n]=t.target.files;i.readAsDataURL(n),i.onload=()=>Object(c.a)(this,void 0,void 0,function*(){const t=yield fetch(i.result);yield t.blob().then(t=>{this.steps.at(e).patchValue({image:t})})})}})}onSubmit(){this.spinner.show(),this.upload()}upload(){return Object(c.a)(this,void 0,void 0,function*(){let t=this.steps.value.length>0?[...this.steps.value]:[];t.unshift({image:this.Form.value.coverImage}),console.log(t),Promise.all(t.map((t,e)=>Object(c.a)(this,void 0,void 0,function*(){return new Promise((i,n)=>Object(c.a)(this,void 0,void 0,function*(){if("object"==typeof t.image){const o=this.afStorage.ref(`Recipes/${this.Form.value.id}/${0===e?"coverImage":"Step"+e}`).put(t.image);this.uploadProgress=o.percentageChanges(),(yield o).ref.getDownloadURL().then(t=>{0===e?this.Form.patchValue({coverImage:t}):this.steps.at(e-1).patchValue({image:t}),setTimeout(i,0,"success")}).catch(t=>{console.log("Error in uploading",t),setTimeout(n,0,"failed")})}else setTimeout(i,0,"success")}))}))).then(t=>{console.log(t,"then"),this.saveData()}).catch(t=>console.log("Error!",t))})}saveData(){console.log(this.Form.value),this.http.addEditRecipe(this.Form.value).subscribe(t=>{t.success&&this.dialog.open(C.a,{data:{title:"Updated!",subTitle:"Recipe updated successfully."}}),this.dialogRef.close(),this.spinner.hide()},t=>{console.log("HTTP Error",t),this.spinner.hide(),alert("Something went wrong,please try again")})}addTag(t){const e=t.input,i=t.value;if((i||"").trim()){let t=this.tags.value;console.log(t,i),t.push(i.trim()),this.tags.patchValue(t)}e&&(e.value="")}removeTag(t){let e=this.tags.value;const i=e.indexOf(t);i>=0&&(e.splice(i,1),this.tags.patchValue(e))}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(v.d),l.Pb(D.a),l.Pb(O.b),l.Pb(w.a),l.Pb(B.c),l.Pb(s.b),l.Pb(s.a),l.Pb(s.g))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-edit"]],decls:80,vars:12,consts:[[1,"mat-typography"],[3,"formGroup"],[1,"imgContainer"],["class","coverImage",3,"src",4,"ngIf"],["type","file","accept",".png,.jpg",3,"change"],["appearance","outline"],["matInput","","formControlName","title","required",""],["matInput","","formControlName","subTitle","required",""],["matInput","","type","number","formControlName","time","required",""],["matInput","","type","text","formControlName","portions","required",""],["formControlName","types","multiple","","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"example-chip-list"],["aria-label","Tags selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","formControlName","summary","required",""],["formArrayName","ingredients"],["mat-icon-button","","color","primary",3,"click"],["style","justify-content: center;",4,"ngFor","ngForOf"],["formArrayName","nutritions"],[4,"ngFor","ngForOf"],["formArrayName","steps"],["formArrayName","utensils"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"formFooter"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"coverImage",3,"src"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[2,"justify-content","center"],["matInput","",3,"formControlName"],[1,"nutritionContainer",3,"formGroupName"],["appearance","outline",1,"NutritionStyle"],["matInput","","formControlName","name"],["matInput","","formControlName","value"],[1,"group",3,"formGroupName"],["matInput","","formControlName","description"]],template:function(t,e){if(1&t&&(l.Vb(0,"mat-dialog-content",0),l.Vb(1,"form",1),l.Vb(2,"div",2),l.Vb(3,"h3"),l.Bc(4,"Cover image:"),l.Ub(),l.Ac(5,T,1,1,"img",3),l.Vb(6,"div"),l.Vb(7,"input",4),l.cc("change",function(t){return e.onFileChange(t)}),l.Ub(),l.Ub(),l.Ub(),l.Vb(8,"mat-form-field",5),l.Vb(9,"mat-label"),l.Bc(10,"Title"),l.Ub(),l.Qb(11,"input",6),l.Ub(),l.Vb(12,"mat-form-field",5),l.Vb(13,"mat-label"),l.Bc(14,"Subtitle"),l.Ub(),l.Qb(15,"input",7),l.Ub(),l.Vb(16,"mat-form-field",5),l.Vb(17,"mat-label"),l.Bc(18,"Time(min)"),l.Ub(),l.Qb(19,"input",8),l.Ub(),l.Vb(20,"mat-form-field",5),l.Vb(21,"mat-label"),l.Bc(22,"Portions"),l.Ub(),l.Qb(23,"input",9),l.Ub(),l.Vb(24,"mat-form-field",5),l.Vb(25,"mat-label"),l.Bc(26,"Types"),l.Ub(),l.Vb(27,"mat-select",10),l.Ac(28,x,2,2,"mat-option",11),l.Ub(),l.Vb(29,"mat-hint"),l.Bc(30,"Select type in which you want to display this recipe."),l.Ub(),l.Ub(),l.Vb(31,"mat-form-field",12),l.Vb(32,"mat-label"),l.Bc(33,"Tags"),l.Ub(),l.Vb(34,"mat-chip-list",13,14),l.Ac(36,_,3,4,"mat-chip",15),l.Vb(37,"input",16),l.cc("matChipInputTokenEnd",function(t){return e.addTag(t)}),l.Ub(),l.Ub(),l.Ub(),l.Vb(38,"mat-form-field",5),l.Vb(39,"mat-label"),l.Bc(40,"Summary"),l.Ub(),l.Qb(41,"textarea",17),l.Ub(),l.Vb(42,"div",18),l.Vb(43,"span"),l.Vb(44,"h3"),l.Bc(45,"Ingredients"),l.Ub(),l.Vb(46,"button",19),l.cc("click",function(){return e.addIngredients()}),l.Vb(47,"mat-icon"),l.Bc(48,"add_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ac(49,k,7,1,"div",20),l.Ub(),l.Vb(50,"div",21),l.Vb(51,"span"),l.Vb(52,"h3"),l.Bc(53,"Nutritions:"),l.Ub(),l.Vb(54,"button",19),l.cc("click",function(){return e.addNutrition()}),l.Vb(55,"mat-icon"),l.Bc(56,"add_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ac(57,M,13,1,"div",22),l.Ub(),l.Vb(58,"div",23),l.Vb(59,"span"),l.Vb(60,"h3"),l.Bc(61,"Steps:"),l.Ub(),l.Vb(62,"button",19),l.cc("click",function(){return e.addStep()}),l.Vb(63,"mat-icon"),l.Bc(64,"add_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ac(65,Q,15,3,"div",22),l.Ub(),l.Vb(66,"div",24),l.Vb(67,"span"),l.Vb(68,"h3"),l.Bc(69,"Utensils"),l.Ub(),l.Vb(70,"button",19),l.cc("click",function(){return e.addUtensils()}),l.Vb(71,"mat-icon"),l.Bc(72,"add_circle"),l.Ub(),l.Ub(),l.Ub(),l.Ac(73,$,7,1,"div",22),l.Ub(),l.Ub(),l.Ub(),l.Vb(74,"mat-dialog-actions",25),l.Vb(75,"button",26),l.Bc(76,"Cancel"),l.Ub(),l.Vb(77,"div",27),l.Vb(78,"button",28),l.cc("click",function(){return e.onSubmit()}),l.Bc(79,"Submit"),l.Ub(),l.Ub(),l.Ub()),2&t){const t=l.rc(35);l.Db(1),l.lc("formGroup",e.Form),l.Db(4),l.lc("ngIf",e.f.coverImage.valid),l.Db(23),l.lc("ngForOf",e.mealTypeList),l.Db(8),l.lc("ngForOf",e.tags.value),l.Db(1),l.lc("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlur),l.Db(12),l.lc("ngForOf",e.ingredients.controls),l.Db(8),l.lc("ngForOf",e.nutritions.controls),l.Db(8),l.lc("ngForOf",e.steps.controls),l.Db(8),l.lc("ngForOf",e.utensils.controls),l.Db(5),l.lc("disabled",e.Form.invalid)}},directives:[s.e,v.v,v.o,v.h,n.k,I.b,I.f,F.b,v.b,v.n,v.g,v.t,v.r,P.a,n.j,I.e,S.c,S.b,v.c,m.a,A.a,s.c,s.d,N.k,S.a,S.d,v.i],styles:[".group[_ngcontent-%COMP%]{display:block;margin:10px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}span[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}h3[_ngcontent-%COMP%]{margin:0}.coverImage[_ngcontent-%COMP%]{height:10rem;width:10rem;background:#c5c0c0;border-radius:5px}.nutritionContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.NutritionStyle[_ngcontent-%COMP%]{width:45%}"]}),t})();var q=i("JX91"),z=i("lJxs"),G=i("QC9C"),E=i("I/3d");function J(t,e){1&t&&(l.Vb(0,"th",18),l.Bc(1," No. "),l.Ub())}function W(t,e){if(1&t&&(l.Vb(0,"td",19),l.Bc(1),l.Ub()),2&t){const t=e.index;l.Db(1),l.Dc(" ",t+1," ")}}function K(t,e){1&t&&(l.Vb(0,"th",18),l.Bc(1," Title "),l.Ub())}function H(t,e){if(1&t&&(l.Vb(0,"td",19),l.Bc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Dc(" ",t.title," ")}}function X(t,e){1&t&&(l.Vb(0,"th",18),l.Bc(1," View "),l.Ub())}function Y(t,e){if(1&t){const t=l.Wb();l.Vb(0,"td",19),l.Vb(1,"button",20),l.cc("click",function(){l.tc(t);const i=e.$implicit;return l.gc().viewRecipee(i)}),l.Vb(2,"mat-icon"),l.Bc(3,"visibility"),l.Ub(),l.Ub(),l.Ub()}}function Z(t,e){1&t&&(l.Vb(0,"th",18),l.Bc(1," Edit "),l.Ub())}function tt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"td",19),l.Vb(1,"button",20),l.cc("click",function(){l.tc(t);const i=e.$implicit;return l.gc().editRecipee(i)}),l.Vb(2,"mat-icon"),l.Bc(3,"create"),l.Ub(),l.Ub(),l.Ub()}}function et(t,e){1&t&&(l.Vb(0,"th",18),l.Bc(1," Delete "),l.Ub())}function it(t,e){if(1&t){const t=l.Wb();l.Vb(0,"td",19),l.Vb(1,"button",20),l.cc("click",function(){l.tc(t);const i=e.$implicit;return l.gc().deleteRecipee(i)}),l.Vb(2,"mat-icon"),l.Bc(3,"delete"),l.Ub(),l.Ub(),l.Ub()}}function nt(t,e){1&t&&l.Qb(0,"tr",21)}function ot(t,e){1&t&&l.Qb(0,"tr",22)}const ct=function(){return[5,10,20]},at=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o){this.http=t,this.dialog=e,this.db=i,this.afStorage=n,this.spinner=o,this.displayedColumns=["id","title","view","edit","delete"],this.dataSource=new r.k([]),this.isLoading=!0,this.selectedItem=new v.e,this.searchOptions=[],this.http.currentPage="Recipes"}getRecipe(){return Object(c.a)(this,void 0,void 0,function*(){const t=this.db.firestore.collection("Recipes");this.unsubRecipe=yield t.onSnapshot(t=>{var e=[];t.forEach(t=>{e.push(t.data())}),e.length>0&&(this.searchOptions=[...e],this.dataSource=new r.k(e),this.dataSource.paginator=this.paginator),this.isLoading=!1,this.spinner.hide()},t=>{this.isLoading=!1,this.spinner.hide(),console.log("erroe",t)})})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.spinner.show(),this.getRecipe(),this.applySearch()}applySearch(){this.filteredOptions=this.selectedItem.valueChanges.pipe(Object(q.a)(""),Object(z.a)(t=>"string"==typeof t?t:t.title),Object(z.a)(t=>t?this._filter(t):this.searchOptions.slice())),this.filteredOptions.subscribe(t=>{this.dataSource=new r.k(t),this.dataSource.paginator=this.paginator})}_filter(t){const e=t.toLowerCase();return this.searchOptions.filter(t=>0===t.title.toLowerCase().indexOf(e))}ngOnDestroy(){this.unsubRecipe()}viewRecipee(t){this.dialog.open(U,{data:t,width:"100vw"}).afterClosed().subscribe(t=>{console.log(`Dialog result: ${t}`)})}editRecipee(t=null){this.dialog.open(L,{data:t,width:"100vw"}).afterClosed().subscribe(t=>{console.log(`Dialog result: ${t}`)})}deleteRecipee(t=null){console.log(t),this.dialog.open(G.a,{data:{title:"Are you sure!",subTitle:"Do you want to delete this recipe"}}).afterClosed().subscribe(e=>{console.log(`Dialog result: ${e}`),e&&(this.spinner.show(),this.http.deleteRecipe(t).subscribe(t=>{this.spinner.hide(),this.dialog.open(C.a,{data:{title:"Deleted!",subTitle:"Recipe deleted successfully."}})}))})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(w.a),l.Pb(s.b),l.Pb(E.a),l.Pb(D.a),l.Pb(B.c))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-recipes"]],viewQuery:function(t,e){if(1&t&&l.Fc(a.a,1),2&t){let t;l.qc(t=l.dc())&&(e.paginator=t.first)}},decls:31,vars:6,consts:[[1,"header"],["appearance","outline",1,"searchContainer2"],["type","text","matInput","",3,"formControl"],["matPrefix","","color","primary"],["mat-button","","color","primary",2,"height","3rem",3,"click"],[2,"margin-right","0.2rem"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","view"],["matColumnDef","edit"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-form-field",1),l.Vb(2,"mat-label"),l.Bc(3,"Search"),l.Ub(),l.Qb(4,"input",2),l.Vb(5,"mat-icon",3),l.Bc(6,"search"),l.Ub(),l.Ub(),l.Vb(7,"button",4),l.cc("click",function(){return e.editRecipee()}),l.Vb(8,"mat-icon",5),l.Bc(9,"add_circle"),l.Ub(),l.Bc(10,"Add recipe "),l.Ub(),l.Ub(),l.Vb(11,"div",6),l.Vb(12,"table",7),l.Tb(13,8),l.Ac(14,J,2,0,"th",9),l.Ac(15,W,2,1,"td",10),l.Sb(),l.Tb(16,11),l.Ac(17,K,2,0,"th",9),l.Ac(18,H,2,1,"td",10),l.Sb(),l.Tb(19,12),l.Ac(20,X,2,0,"th",9),l.Ac(21,Y,4,0,"td",10),l.Sb(),l.Tb(22,13),l.Ac(23,Z,2,0,"th",9),l.Ac(24,tt,4,0,"td",10),l.Sb(),l.Tb(25,14),l.Ac(26,et,2,0,"th",9),l.Ac(27,it,4,0,"td",10),l.Sb(),l.Ac(28,nt,1,0,"tr",15),l.Ac(29,ot,1,0,"tr",16),l.Ub(),l.Qb(30,"mat-paginator",17),l.Ub()),2&t&&(l.Db(4),l.lc("formControl",e.selectedItem),l.Db(8),l.lc("dataSource",e.dataSource),l.Db(16),l.lc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.lc("matRowDefColumns",e.displayedColumns),l.Db(1),l.lc("pageSizeOptions",l.nc(5,ct)))},directives:[I.b,I.f,F.b,v.b,v.n,v.f,A.a,I.g,m.a,r.j,r.c,r.e,r.b,r.g,r.i,a.a,r.d,r.a,r.f,r.h],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let rt=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(at)],o.c]}),t})();var st=i("hGdz");let lt=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[n.c,rt,st.a]]}),t})()}}]);